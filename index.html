<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Galactic RP Map</title>

<style>

/* ========================= */
/* GALACTIC ROUTES */
/* ========================= */

#routes-layer {
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    pointer-events:none;
    z-index:3;
}

.route-line {
    stroke: rgba(0,170,255,0.55);
    stroke-width: 0.7;
    fill: none;
    stroke-linecap: round;

    filter:
        drop-shadow(0 0 3px rgba(0,170,255,0.35))
        drop-shadow(0 0 7px rgba(0,170,255,0.3));

    animation: routePulse 6s ease-in-out infinite;
}

@keyframes routePulse {
    0% { opacity: 0.4; filter: drop-shadow(0 0 2px rgba(0,170,255,0.25)); }
    50% { opacity: 0.9; filter: drop-shadow(0 0 7px rgba(0,170,255,0.65)); }
    100% { opacity: 0.4; filter: drop-shadow(0 0 2px rgba(0,170,255,0.25)); }
}

/* ========================= */
/* PAGE */
/* ========================= */

body {
    font-family: Arial, sans-serif;
    margin: 0;
    color: white;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-color: #050814;
}

h2 {
    text-align: center;
    margin: 15px 0;
    text-shadow: 0 0 10px rgba(0,150,255,0.4);
}

/* ========================= */
/* VIEWPORT */
/* ========================= */

#map-viewport {
    width: 100%;
    display: flex;
    justify-content: center;
    user-select: none;
}

/* ========================= */
/* MAP CONTAINER */
/* ========================= */

#map-container {
    position: relative;
    width: 900px;
    max-width: 95vw;
    aspect-ratio: 16/9;
    margin: 20px auto;
    background: #081224;
    border-radius: 12px;
    border: 1px solid rgba(0,150,255,0.4);
    box-shadow:
        0 0 25px rgba(0,150,255,0.2),
        inset 0 0 20px rgba(0,0,0,0.7);
    overflow: hidden;
    cursor: grab;
}

#map-container:active {
    cursor: grabbing;
}

/* ========================= */
/* GRID */
/* ========================= */

#map-container::before {
    content:"";
    position:absolute;
    inset:0;
    background-image:
        linear-gradient(to right, rgba(0,150,255,0.07) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(0,150,255,0.07) 1px, transparent 1px);
    background-size:50px 50px;
    pointer-events:none;
    z-index:1;
}

/* ========================= */
/* WORLD */
/* ========================= */

#map-world {
    position:absolute;
    width:100%;
    height:100%;
    transform-origin:center center;
    z-index:2;
}

/* ========================= */
/* PLANETS */
/* ========================= */

.planet {
    position:absolute;
    transform:translate(-50%,-50%);
    width:40px;
    height:40px;
    z-index:5;
}

.dot {
    position:absolute;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    width:12px;
    height:12px;
    border-radius:50%;
    cursor:pointer;
}

/* ========================= */
/* INFO PANEL */
/* ========================= */

#info {
    width:900px;
    max-width:95vw;
    margin:20px auto;
    padding:16px;
    background:linear-gradient(135deg,rgba(10,40,80,.85),rgba(5,20,45,.9));
    border-radius:12px;
    border:1px solid rgba(0,150,255,0.4);
}

.info-image {
    width:100%;
    max-height:220px;
    object-fit:cover;
    border-radius:8px;
    margin-bottom:12px;
}

/* ========================= */
/* ROUTE BUTTON */
/* ========================= */

#route-toggle {
    position:absolute;
    top:12px;
    right:12px;
    z-index:50;

    padding:7px 12px;
    border-radius:8px;
    cursor:pointer;

    color:#6ec8ff;
    background:linear-gradient(135deg,#0a2a55,#071a35);
    border:1px solid rgba(0,150,255,0.6);
}

#route-toggle.off {
    opacity:0.6;
}

</style>
</head>

<body style="background-image:url('static/background.jpg')">

<h2>Galactic RP Map</h2>

<div id="map-viewport">
<div id="map-container">

<div id="route-toggle">Routes : ON</div>

<div id="map-world">

<svg id="routes-layer" width="100%" height="100%"></svg>

<!-- PLANETS GENERATED BY YOUR EXPORT SCRIPT -->

</div>
</div>
</div>

<div id="info">Click on a planet</div>

<script>

/* ========================= */
/* CAMERA */
/* ========================= */

let scale=1,posX=0,posY=0;
const world=document.getElementById("map-world");
const viewport=document.getElementById("map-container");

function updateTransform(){
world.style.transform=`translate(${posX}px,${posY}px) scale(${scale})`;
}

/* ========================= */
/* ZOOM */
/* ========================= */

viewport.addEventListener("wheel", e=>{
e.preventDefault();
scale += (e.deltaY<0?0.1:-0.1);
scale=Math.min(2.5,Math.max(0.6,scale));
updateTransform();
},{passive:false});

/* ========================= */
/* DRAG */
/* ========================= */

let dragging=false,lastX=0,lastY=0;

viewport.addEventListener("mousedown",e=>{
dragging=true;
lastX=e.clientX;
lastY=e.clientY;
});

window.addEventListener("mouseup",()=>dragging=false);

window.addEventListener("mousemove",e=>{
if(!dragging)return;
posX+=e.clientX-lastX;
posY+=e.clientY-lastY;
lastX=e.clientX;
lastY=e.clientY;
updateTransform();
});

/* ========================= */
/* ROUTE TOGGLE */
/* ========================= */

const toggleBtn=document.getElementById("route-toggle");
const routesSVG=document.getElementById("routes-layer");

let routesVisible=true;

toggleBtn.onclick=()=>{
routesVisible=!routesVisible;
routesSVG.style.display=routesVisible?"block":"none";
toggleBtn.textContent=routesVisible?"Routes : ON":"Routes : OFF";
toggleBtn.classList.toggle("off",!routesVisible);
};

</script>

</body>
</html>